package com.nos.home.entity.menu;

import com.nos.home.entity.common.BaseTimeEntity;
import jakarta.persistence.*;
import lombok.Getter;
import lombok.Setter;

import java.util.HashSet;
import java.util.Set;

@Getter
@Setter
@Entity
@Table(name = "tb_menu")
public class MenuEntity extends BaseTimeEntity {
    //------------------------------------------------------------------------------------------------------------------
    // 메뉴 아이템 Sequence 번호
    //------------------------------------------------------------------------------------------------------------------
    @Id
    private Long                        menuSeq;

    //------------------------------------------------------------------------------------------------------------------
    // 사이트맵 정보
    //------------------------------------------------------------------------------------------------------------------
    @Column(name = "sitemap_seq", nullable = false)   // 사이트맵 정보
    private Long                        sitemapSeq;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "sitemap_seq", insertable=false, updatable=false)
    private SiteMapEntity               sitemap;

    //------------------------------------------------------------------------------------------------------------------
    // 상위 메뉴 정보
    //------------------------------------------------------------------------------------------------------------------
    @Column(name = "parent_menu_seq")
    private Long                        parentMenuSeq;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "parent_menu_seq", insertable=false, updatable=false)
    private MenuEntity                  parentMenu;

    //------------------------------------------------------------------------------------------------------------------
    // 하위 메뉴 정보
    //------------------------------------------------------------------------------------------------------------------
    @OneToMany(mappedBy = "parentMenu")
    private Set<MenuEntity>             childMenus = new HashSet<>();

    //------------------------------------------------------------------------------------------------------------------
    // 모듈 유형
    //------------------------------------------------------------------------------------------------------------------
    @Column(length = 50)
    private String                      moduleId;

    //------------------------------------------------------------------------------------------------------------------
    // 모듈 인스턴스 ID
    //------------------------------------------------------------------------------------------------------------------
    @Column(length = 50)
    private String                      instanceId;

    //------------------------------------------------------------------------------------------------------------------
    // 메뉴명
    //------------------------------------------------------------------------------------------------------------------
    @Column(nullable = false, length = 100)
    private String                      title;

    //------------------------------------------------------------------------------------------------------------------
    // 메뉴 URL
    //------------------------------------------------------------------------------------------------------------------
    @Column(length = 500)
    private String                      url;

    //------------------------------------------------------------------------------------------------------------------
    // Target
    //------------------------------------------------------------------------------------------------------------------
    @Column(length = 30)
    private String                      target;

    //------------------------------------------------------------------------------------------------------------------
    // 메뉴 설명
    //------------------------------------------------------------------------------------------------------------------
    @Column(length = 500)
    private String                      description;


    //------------------------------------------------------------------------------------------------------------------
    // 메뉴 아이콘
    //------------------------------------------------------------------------------------------------------------------
    @Column(length = 100)
    private String                      icon;

    //------------------------------------------------------------------------------------------------------------------
    // 메뉴 수준
    //------------------------------------------------------------------------------------------------------------------
    @Column(nullable = false)
    private Integer                     depth = 1;

    //------------------------------------------------------------------------------------------------------------------
    // 메뉴 순서
    //------------------------------------------------------------------------------------------------------------------
    @Column(nullable = false)
    private Integer                     position = 0;

    //------------------------------------------------------------------------------------------------------------------
    // 메뉴 활성화 여부
    //------------------------------------------------------------------------------------------------------------------
    private Boolean                     enabled = true;
}